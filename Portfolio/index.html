<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>CrystalsCollector</title>
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">
  <script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>
  <script src="assets/javascript/game.js"></script>

</head>
<body>
  <div class="page-header">
    <h1>Crystals Collector v1.0<br><small>So cool!</small></h1>
  </div>

  <div class="container">
    <div class="row">
      <div clas="col-md-6">
        <div id="instructions"><p>You will be given a random number at the start of the game.</p>
          <p>There are four crystals below. By clicking on a crystal you will add a specific amount of points to your total score.</p>
          <p>You win the game by matching your total score to random number, you lose the game if your total score goes above the random number.</p>
          <p>The value of each crystal is hidden from you until you click on it.</p>
          <p>Each time when the game starts, the game will change the values of each crystal.</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="row">
          <div id="goalScore"><span id="randomScore"></span></div>
          <div id="winsLosses"><span id="winLossCount"></span></div>
        </div>
        <div class="row">
          <div id="crystal1" class="imgDiv"><img src="http://lorempixel.com/75/75/people/"></div>
          <div id="crystal2" class="imgDiv"><img src="http://lorempixel.com/75/75/nature/"></div>
          <div id="crystal3" class="imgDiv"><img src="http://lorempixel.com/75/75/city/"></div>
          <div id="crystal4" class="imgDiv"><img src="http://lorempixel.com/75/75/animals/"></div>
        </div>
        <div class="row">
          <div id="currentScore"></div>
        </div>
      </div>
    </div>

    <script type='text/javascript'>
    var randomizedScore;
    var wins;
    var losses;
    var crystalOneVal;
    var crystalTwoVal;
    var crystalThreeVal;
    var crystalFourVal;
    var crystalArr;
    var currentScoreVal;

    function init() {
      randomizedScore = Math.floor(19 + (Math.random() * 101));
      wins = 0;
      losses = 0;
      crystalOneVal = Math.floor(1 + (Math.random() * 12));
      crystalTwoVal = Math.floor(1 + (Math.random() * 12));
      crystalThreeVal = Math.floor(1 + (Math.random() * 12));
      crystalFourVal = Math.floor(1 + (Math.random() * 12));
      crystalArr = [];
      currentScoreVal = 0;
    }

    function reset() {
      randomizedScore = Math.floor(19 + (Math.random() * 101));
      crystalOneVal = Math.floor(1 + (Math.random() * 12));
      crystalTwoVal = Math.floor(1 + (Math.random() * 12));
      crystalThreeVal = Math.floor(1 + (Math.random() * 12));
      crystalFourVal = Math.floor(1 + (Math.random() * 12));
      crystalArr = [];
      currentScoreVal = 0;
    }


    function winLose() {
      if(currentScoreVal > randomizedScore) {
        reset();
        alert("YOU LOSE!");
        losses += 1;
      }
      else if (currentScoreVal == randomizedScore) {
        reset();
        alert("YOU WIN!!!");
        wins += 1;
      };
    }

    function addPoints() {
      for(var i=0; i <= crystalArr.length; i++) {
      currentScoreVal += crystalArr[i];
      };
    };
    


    // // random number checker
    // var sampleArr = [];
    // for(i=1; i < 200; i++) {
    //   var rando = Math.floor(19 + (Math.random() * 101));
    //   sampleArr.push(rando);
    // };
    // console.log(sampleArr);

    $(document).ready(function() {
      init();
      $('#goalScore').html("Goal Score: " + randomizedScore);
      $('#winsLosses').html("<p>Wins: " + wins + '<br>' + "<p>Losses: " + losses);
      $('#currentScore').html('<p>Your total score is: ' + currentScoreVal);
    });

    // Crystal click functions

    $('#crystal1').click(function() {
      crystalArr.push(crystalOneVal);
      currentScoreVal += crystalOneVal;
      $('#currentScore').html('<p>Your total score is: ' + currentScoreVal);
      winLose();
    });

    $('#crystal2').click(function() {
      crystalArr.push(crystalTwoVal);
      currentScoreVal += crystalTwoVal;
      $('#currentScore').html('<p>Your total score is: ' + currentScoreVal);
      winLose();
    });

    $('#crystal3').click(function() {
      crystalArr.push(crystalThreeVal);
      currentScoreVal += crystalThreeVal;
      $('#currentScore').html('<p>Your total score is: ' + currentScoreVal);
      winLose();
    });

    $('#crystal4').click(function() {
      crystalArr.push(crystalFourVal);
      currentScoreVal += crystalFourVal;
      $('#currentScore').html('<p>Your total score is: ' + currentScoreVal);
      winLose();
    });




    </script>
  </div>


</body>
</html>